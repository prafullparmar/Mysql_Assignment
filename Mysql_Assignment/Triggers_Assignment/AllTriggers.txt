#1
CREATE DEFINER=`root`@`localhost` TRIGGER `employee_BEFORE_INSERT` BEFORE INSERT ON `employee`
FOR EACH ROW BEGIN
SET New.SALARY = NEW.SALARY +10000 ;
UPDATE DEPARTMENT
SET EMPCOUNT = EMPCOUNT + 1
WHERE DEPTID = NEW.DEPTID; END

#2
CREATE DEFINER=`root`@`localhost` TRIGGER `employee_AFTER_INSERT` AFTER INSERT ON `employee`
FOR EACH ROW BEGIN
INSERT INTO EMPLOYEE_AUDIT
VALUES(NEW.EMPID,
       NEW.EMPNAME,
       NEW.AGE,
       NEW.GENDER,
       NEW.DEPTID,
       NOW(),
       "New Employee"); END


#3
CREATE DEFINER=`root`@`localhost` TRIGGER `emp_audit` BEFORE UPDATE ON `employee`
FOR EACH ROW BEGIN
INSERT INTO EMPLOYEE_AUDIT
SET ACTION = 'UPDATE',
    EMPID = OLD.EMPID,
    EMPNAME = OLD.EMPNAME,
    AGE= OLD.AGE,
    GENDER=OLD.GENDER,
    DEPTID=OLD.DEPTID,
    CHANGEDAT = NOW(); END

#4
CREATE DEFINER=`root`@`localhost` TRIGGER `after_update` AFTER UPDATE ON `employee`
FOR EACH ROW BEGIN
INSERT INTO EMPLOYEE_AUDIT
VALUES(NEW.EMPID,
       NEW.EMPNAME,
       NEW.AGE,
       NEW.GENDER,
       NEW.DEPTID,
       NOW(),
       "AFTER UPDATE");END

#5
CREATE DEFINER=`root`@`localhost` TRIGGER `employee_BEFORE_DELETE` BEFORE DELETE ON `employee`
FOR EACH ROW BEGIN
UPDATE DEPARTMENT
SET EMPCOUNT = EMPCOUNT - 1
WHERE DEPTID = OLD.DEPTID; END


#6
CREATE DEFINER=`root`@`localhost` TRIGGER `employee_AFTER_DELETE` AFTER DELETE ON `employee`
FOR EACH ROW BEGIN
INSERT INTO EMPLOYEE_AUDIT
VALUES(OLD.EMPID,
       OLD.EMPNAME,
       OLD.AGE,
       OLD.GENDER,
       OLD.DEPTID,
       NOW(),
       "AFTER DELETE"); END